#!/usr/bin/env python
"""
Automatically fill Turkish translations in .po files.
For Turkish: copies msgid to msgstr (since strings are already in Turkish)
For English: provides basic English translations
"""

import re
from pathlib import Path
from typing import Dict, Tuple

LOCALE_DIR = Path(__file__).parent / "desktop" / "locale"

# Basic Turkish to English dictionary for common UI strings
TRANSLATION_DICT = {
    # Common UI elements
    "Genel BakÄ±ÅŸ": "Overview",
    "TÃ¼rkÃ§e": "Turkish",
    "Ä°ngilizce": "English",
    "Dashboard": "Dashboard",
    "Ãœyeler": "Members",
    "Ãœye": "Member",
    "YÃ¶netimi": "Management",
    "SatÄ±ÅŸ": "Sales",
    "Finans": "Finance",
    "Personel": "Staff",
    "TanÄ±mlar": "Definitions",
    "Ã‡Ä±kÄ±ÅŸ": "Logout",
    "GiriÅŸ": "Login",
    "Kaydet": "Save",
    "Ä°ptal": "Cancel",
    "Sil": "Delete",
    "DÃ¼zenle": "Edit",
    "GÃ¼ncelle": "Update",
    "Ekle": "Add",
    "Ara": "Search",
    "SeÃ§": "Select",
    "SeÃ§im": "Selection",
    "Arama": "Search",
    "Hata": "Error",
    "BaÅŸarÄ±lÄ±": "Successful",
    "UyarÄ±": "Warning",
    "Bilgi": "Information",
    "LÃ¼tfen": "Please",
    "Tamam": "OK",
    "Evet": "Yes",
    "HayÄ±r": "No",
    "YÃ¼kle": "Load",
    "Ä°ndir": "Download",
    "GÃ¶nder": "Send",
    "Kapat": "Close",
    "AÃ§": "Open",
    
    # Dashboard specific
    "+ Ãœye Ekle": "+ Add Member",
    "+ SatÄ±ÅŸ Yap": "+ Make Sale",
    "ğŸ“· QR GiriÅŸ": "ğŸ“· QR Check-In",
    "Aktif Ãœyeler": "Active Members",
    "BugÃ¼nkÃ¼ Dersler": "Today's Classes",
    "Toplam BorÃ§": "Total Debt",
    "AylÄ±k Ciro": "Monthly Revenue",
    "BugÃ¼nÃ¼n ProgramÄ±": "Today's Schedule",
    "Son Hareketler": "Recent Activities",
    "BugÃ¼n ders yok.": "No classes today.",
    "HenÃ¼z hareket yok.": "No activities yet.",
    "GiriÅŸ YapÄ±lÄ±yor...": "Logging in...",
    "GiriÅŸ Yap": "Login",
    "GiriÅŸ Kontrol": "Check-In Control",
    "Kontrol Ediliyor...": "Checking...",
    "âŒ GiriÅŸ BaÅŸarÄ±sÄ±z": "âŒ Check-In Failed",
    "BaÄŸlantÄ± HatasÄ±": "Connection Error",
    "âœ… QR Kod GeÃ§erli": "âœ… QR Code Valid",
    "GeÃ§ersiz QR": "Invalid QR",
    
    # Members
    "ğŸ‘¥ Ãœye YÃ¶netimi": "ğŸ‘¥ Member Management",
    "ğŸ” Ãœye Ara (Ad, Email, Tel)...": "ğŸ” Search Member (Name, Email, Phone)...",
    "ğŸ” Ara": "ğŸ” Search",
    "â›” Sadece Pasif Ãœyeler": "â›” Inactive Members Only",
    "â• Yeni Ãœye": "â• New Member",
    
    # Dialogs
    "âŒ Ä°ptal": "âŒ Cancel",
    "ğŸ’¾ Kaydet": "ğŸ’¾ Save",
    "âœï¸ DÃ¼zenle": "âœï¸ Edit",
    "ğŸ—‘ï¸ Sil": "ğŸ—‘ï¸ Delete",
    "ğŸ’° BorÃ§ Ã–de": "ğŸ’° Pay Debt",
    
    # Finance
    "Finans GeÃ§miÅŸi": "Finance History",
    "Ã–deme Åekli": "Payment Method",
    "Nakit": "Cash",
    "Kredi KartÄ±": "Credit Card",
    "Havale/EFT": "Transfer",
    "DiÄŸer": "Other",
    
    # Common phrases
    "KullanÄ±cÄ± AdÄ±": "Username",
    "Åifre": "Password",
    "LÃ¼tfen tÃ¼m alanlarÄ± doldurun.": "Please fill in all fields.",
    "GiriÅŸ baÅŸarÄ±sÄ±z. Bilgileri kontrol edin.": "Login failed. Please check your credentials.",
    "QR Kodu Giriniz:": "Enter QR Code:",
    "Manuel GiriÅŸ": "Manual Entry",
    "Kapat": "Close",
    "MyRhythmNexus Admin": "MyRhythmNexus Admin",
    "MyRhythmNexus - Admin Panel": "MyRhythmNexus - Admin Panel",
    
    # Additional common terms
    "Ders": "Class",
    "Ders ProgramÄ±": "Class Schedule",
    "Seans": "Session",
    "Paket": "Package",
    "Plan": "Plan",
    "Fiyat": "Price",
    "AÃ§Ä±klama": "Description",
    "Tarih": "Date",
    "Saat": "Time",
    "Durum": "Status",
    "Aktif": "Active",
    "Pasif": "Inactive",
    "Silindi": "Deleted",
    "Yeni Ãœye KaydÄ±": "New Member Registration",
    "âœ¨ Yeni Ãœye Ekle": "âœ¨ Add New Member",
    "ğŸ‘¤ Ad": "ğŸ‘¤ First Name",
    "ğŸ‘¤ Soyad": "ğŸ‘¤ Last Name",
    "ğŸ“§ Email": "ğŸ“§ Email",
    "ğŸ“ Telefon": "ğŸ“ Phone",
    "ğŸ”‘ Åifre": "ğŸ”‘ Password",
    "Eksik Bilgi": "Missing Information",
    "LÃ¼tfen Ad, Soyad, Email ve Åifre alanlarÄ±nÄ± doldurunuz.": "Please fill in the First Name, Last Name, Email, and Password fields.",
    "GeÃ§ersiz Email": "Invalid Email",
    "LÃ¼tfen geÃ§erli bir email adresi giriniz.\nÃ–rnek: ornek@domain.com": "Please enter a valid email address.\nExample: example@domain.com",
    "GeÃ§ersiz Telefon": "Invalid Phone",
    "Telefon numarasÄ± 10 haneli olmalÄ±dÄ±r.\nKabul edilen formatlar:\nâ€¢ 5xxxxxxxxx\nâ€¢ 05xxxxxxxxx\nâ€¢ +905xxxxxxxxx\nâ€¢ 0 5xx xxx xx xx": "Phone number must be 10 digits.\nAccepted formats:\nâ€¢ 5xxxxxxxxx\nâ€¢ 05xxxxxxxxx\nâ€¢ +905xxxxxxxxx\nâ€¢ 0 5xx xxx xx xx",
    "Telefon numarasÄ± 5 ile baÅŸlamalÄ±dÄ±r (cep telefonu).": "Phone number must start with 5 (mobile phone).",
    "ZayÄ±f Åifre": "Weak Password",
    "Åifre en az 6 karakter olmalÄ±dÄ±r.": "Password must be at least 6 characters long.",
    "Ãœye oluÅŸturulamadÄ±: {err}": "Could not create member: {err}",
    "MyRhythmNexus - Admin Panel": "MyRhythmNexus - Admin Panel",
    "Tarih SeÃ§in": "Select Date",
    "ğŸ“… Tarih SeÃ§imi": "ğŸ“… Date Selection",
    "GÃ¼n": "Day",
    "Ay": "Month",
    "YÄ±l": "Year",
    "âœ… SeÃ§": "âœ… Select",
    "âŒ Ä°ptal": "âŒ Cancel",
    "Pazartesi": "Monday",
    "SalÄ±": "Tuesday",
    "Ã‡arÅŸamba": "Wednesday",
    "PerÅŸembe": "Thursday",
    "Cuma": "Friday",
    "Cumartesi": "Saturday",
    "Pazar": "Sunday",
    "Ocak": "January",
    "Åubat": "February",
    "Mart": "March",
    "Nisan": "April",
    "MayÄ±s": "May",
    "Haziran": "June",
    "Temmuz": "July",
    "AÄŸustos": "August",
    "EylÃ¼l": "September",
    "Ekim": "October",
    "KasÄ±m": "November",
    "AralÄ±k": "December",
    "ğŸ” Ara...": "ğŸ” Search...",
    "ğŸ” Ara": "ğŸ” Search",
    "< Ã–nceki": "< Previous",
    "Sayfa 1 / 1": "Page 1 / 1",
    "Sonraki >": "Next >",
    "Sayfa {current} / {total}": "Page {current} / {total}",
    "Bilinmiyor": "Unknown",
    "Paket belirtilmedi": "Package not specified",
    "ğŸ’³ {method}": "ğŸ’³ {method}",
    "ğŸ›ˆ Detay": "ğŸ›ˆ Detail",
    "ğŸ—‘ï¸ Sil": "ğŸ—‘ï¸ Delete",
    "HenÃ¼z Ã¶deme kaydÄ± yok": "No payment records yet",
    "ğŸ“š Ã–zel Ders ZamanlamasÄ±": "ğŸ“š Private Class Schedule",
    "EÄŸitmen:": "Instructor:",
    "Ders GÃ¼nleri ve Saatleri:": "Class Days and Times:",
    "Tekrar Eden Haftalar:": "Repeating Weeks:",
    ":": ":",
    "BaÅŸlangÄ±Ã§ Tarihi:": "Start Date:",
    "DeÄŸiÅŸtirmek Ä°Ã§in TÄ±klayÄ±n - {}": "Click to Change - {}",
    "BitiÅŸ Tarihi:": "End Date:",
    "{} ({}) hafta": "{} ({}) weeks",
    "BitiÅŸ Tarihi: Hata": "End Date: Error",
    "ğŸ‘¥ Ãœye SeÃ§imi": "ğŸ‘¥ Member Selection",
    "ğŸ” Ä°sim, soyisim veya telefon...": "ğŸ” Name, surname or phone...",
    "SeÃ§ili Ãœye: HenÃ¼z seÃ§ilmedi": "Selected Member: Not yet selected",
    "ğŸ”": "ğŸ”",
    "SonuÃ§ bulunamadÄ±": "No results found",
    "{} {}": "{} {}",
    "ğŸ‘¤ {}": "ğŸ‘¤ {}",
    "âœ… Aktif": "âœ… Active",
    "â›” Pasif": "â›” Inactive",
    "ğŸ“§ {}": "ğŸ“§ {}",
    "ğŸ“ {}": "ğŸ“ {}",
    "ğŸ‘† SeÃ§": "ğŸ‘† Select",
    "âœ… {}": "âœ… {}",
    "ğŸ“¦ Paket SeÃ§imi": "ğŸ“¦ Package Selection",
    "Paket:": "Package:",
    "ğŸ’° Ã–deme DetaylarÄ±": "ğŸ’° Payment Details",
    "Ã–deme YÃ¶ntemi:": "Payment Method:",
    "Ã–denen Tutar (TL):": "Amount Paid (TL):",
    "Tutar negatif olamaz.": "Amount cannot be negative.",
    "GeÃ§ersiz tutar: {}": "Invalid amount: {}",
    "LÃ¼tfen bir Ã¼ye seÃ§iniz.": "Please select a member.",
    "LÃ¼tfen bir paket seÃ§iniz.": "Please select a package.",
    "Ã–deme detaylarÄ± alÄ±namadÄ±.": "Payment details could not be retrieved.",
    "Ã–deme bilgileri geÃ§ersiz.": "Payment information is invalid.",
    "BaÅŸlangÄ±Ã§ tarihi seÃ§ilmedi.": "Start date not selected.",
    "Gerekli veriler eksik.": "Required data is missing.",
    "Ã–deme tutarÄ± paket fiyatÄ±ndan ({:.2f} TL) fazla olamaz.": "Payment amount cannot exceed package price ({:.2f} TL).",
    "Payload oluÅŸturma hatasÄ±: {}": "Payload creation error: {}",
    "BaÅŸarÄ±lÄ±": "Successful",
    "SatÄ±ÅŸ tamamlandÄ±!\nAbonelik oluÅŸturuldu.": "Sale completed!\nSubscription created.",
    "SatÄ±ÅŸ baÅŸarÄ±sÄ±z: {}": "Sale failed: {}",
    "GiriÅŸ Kontrol": "Check-In Control",
    "Kontrol Ediliyor...": "Checking...",
    "GeÃ§ersiz QR": "Invalid QR",
    "BaÄŸlantÄ± HatasÄ±": "Connection Error",
    "âŒ GiriÅŸ BaÅŸarÄ±sÄ±z": "âŒ Check-In Failed",
    "Kapat": "Close",
    "âœ… QR Kod GeÃ§erli": "âœ… QR Code Valid",
    "Ãœye: {}": "Member: {}",
    "Paket: {}": "Package: {}",
    "Kalan Hak: {}": "Remaining Rights: {}",
    "Kalan Hak: SÄ±nÄ±rsÄ±z": "Remaining Rights: Unlimited",
    "GiriÅŸ YapÄ±lacak Ders:": "Class to Check In:",
    "Åu an uygun ders bulunamadÄ±.": "No suitable class found at the moment.",
    "Ders seÃ§meden giriÅŸ yapabilirsiniz.": "You can check in without selecting a class.",
    "Ä°ptal": "Cancel",
    "GiriÅŸ Yap (Ders SeÃ§meden)": "Check In (Without Class Selection)",
    "{} - {} ({})": "{} - {} ({})",
    "GiriÅŸ Yap": "Login",
    "ğŸ‰ GiriÅŸ BaÅŸarÄ±lÄ±!": "ğŸ‰ Check-In Successful!",
    "HoÅŸgeldin, {}": "Welcome, {}",
    "Tamam": "OK",
    "Genel BakÄ±ÅŸ": "Overview",
    "+ Ãœye Ekle": "+ Add Member",
    "+ SatÄ±ÅŸ Yap": "+ Make Sale",
    "ğŸ“· QR GiriÅŸ": "ğŸ“· QR Check-In",
    "ğŸ”„": "ğŸ”„",
    "Aktif Ãœyeler": "Active Members",
    "BugÃ¼nkÃ¼ Dersler": "Today's Classes",
    "Toplam BorÃ§": "Total Debt",
    "AylÄ±k Ciro": "Monthly Revenue",
    "BugÃ¼nÃ¼n ProgramÄ±": "Today's Schedule",
    "Son Hareketler": "Recent Activities",
    "QR Kodu Giriniz:": "Enter QR Code:",
    "Manuel GiriÅŸ": "Manual Entry",
    "...": "...",
    "BugÃ¼n ders yok.": "No classes today.",
    "HenÃ¼z hareket yok.": "No activities yet.",
    "Err": "Err",
    "Hizmet TanÄ±mlarÄ± (SÃ¶zlÃ¼kler)": "Service Definitions (Dictionaries)",
    "ğŸ“ Kategoriler": "ğŸ“ Categories",
    "ğŸ‹ï¸ Hizmetler (Dersler)": "ğŸ‹ï¸ Services (Classes)",
    "ğŸ“‹ Planlar": "ğŸ“‹ Plans",
    "< Geri": "< Back",
    "âœï¸ Bilgileri GÃ¼ncelle": "âœï¸ Update Information",
    "ğŸ”‘ Åifre DeÄŸiÅŸtir": "ğŸ”‘ Change Password",
    "ğŸ’° BorÃ§ Ã–de": "ğŸ’° Pay Debt",
    "ğŸ‘¤ Profil": "ğŸ‘¤ Profile",
    "ğŸ“¦ Paketler": "ğŸ“¦ Packages",
    "ğŸ’³ Ã–demeler": "ğŸ’³ Payments",
    "âœ… KatÄ±lÄ±m": "âœ… Attendance",
    "ğŸ“ VÃ¼cut Ã–lÃ§Ã¼mleri": "ğŸ“ Body Measurements",
    "Onay": "Confirm",
    "Bu Ã¼yeyi silmek istediÄŸinize emin misiniz?": "Are you sure you want to delete this member?",
    "Ãœye silindi.": "Member deleted.",
    "Silme iÅŸlemi baÅŸarÄ±sÄ±z: {err}": "Deletion failed: {err}",
    "ğŸ‘¥ Ãœye YÃ¶netimi": "ğŸ‘¥ Member Management",
    "ğŸ” Ãœye Ara (Ad, Email, Tel)...": "ğŸ” Search Member (Name, Email, Phone)...",
    "â›” Sadece Pasif Ãœyeler": "â›” Inactive Members Only",
    "â• Yeni Ãœye": "â• New Member",
    " (pasif Ã¼yeler)": " (inactive members)",
    "ğŸ“‹ HenÃ¼z Ã¼ye kaydÄ± bulunmuyor{suffix}": "ğŸ“‹ No member records found yet{suffix}",
    "ğŸ” Arama sonucu bulunamadÄ±{suffix}": "ğŸ” No search results found{suffix}",
    "âŒ Veri yÃ¼klenirken hata oluÅŸtu": "âŒ Error loading data",
    "ğŸ“‹ Detay": "ğŸ“‹ Detail",
    "âœ… Aktif Et": "âœ… Activate",
    "Ãœye aktif edildi.": "Member activated.",
    "Aktif etme iÅŸlemi baÅŸarÄ±sÄ±z: {err}": "Activation failed: {err}",
    "SatÄ±ÅŸ EkranÄ± (POS)": "Sales Screen (POS)",
    "Paket YÃ¶netimi": "Package Management",
    "< Ã–nceki Hafta": "< Previous Week",
    "Sonraki Hafta >": "Next Week >",
    "+ Seans Ekle": "+ Add Session",
    "âš™ï¸ Åablonlar": "âš™ï¸ Templates",
    "Ders": "Class",
    "Kapasite: {capacity}": "Capacity: {capacity}",
    "Seans DetayÄ±": "Session Detail",
    "Zaman: {time}": "Time: {time}",
    "KatÄ±lÄ±mcÄ±lar": "Participants",
    "Ãœye Ara (Ad/Tel)...": "Search Member (Name/Phone)...",
    "Ara & Ekle": "Search & Add",
    "SeansÄ± Ä°ptal Et": "Cancel Session",
    "HenÃ¼z katÄ±lÄ±mcÄ± yok.": "No participants yet.",
    "Sil": "Delete",
    "Hata: {err}": "Error: {err}",
    "Ãœye bulunamadÄ±.": "Member not found.",
    "{first} {last} iÃ§in aktif abonelik bulunamadÄ±.": "No active subscription found for {first} {last}.",
    "Ãœye eklendi.": "Member added.",
    "Ä°ÅŸlem hatasÄ±: {err}": "Operation error: {err}",
    "Bu rezervasyonu silmek istediÄŸinize emin misiniz?": "Are you sure you want to delete this reservation?",
    "Silme baÅŸarÄ±sÄ±z: {err}": "Deletion failed: {err}",
    "Bu seansÄ± iptal etmek istediÄŸinize emin misiniz?": "Are you sure you want to cancel this session?",
    "Seans iptal edildi.": "Session cancelled.",
    "Ä°ptal baÅŸarÄ±sÄ±z: {err}": "Cancellation failed: {err}",
    "ğŸ‘” Personel YÃ¶netimi": "ğŸ‘” Staff Management",
    "ğŸ” Personel Ara (Ad, Email, Tel)...": "ğŸ” Search Staff (Name, Email, Phone)...",
    "â• Yeni Personel": "â• New Staff",
    "ğŸ“‹ HenÃ¼z personel kaydÄ± bulunmuyor": "ğŸ“‹ No staff records found yet",
    "ğŸ” Arama sonucu bulunamadÄ±": "ğŸ” No search results found",
    "YÃ¶netici": "Admin",
    "AntrenÃ¶r": "Trainer",
    "âœï¸ DÃ¼zenle": "âœï¸ Edit",
    "Personel ID bulunamadÄ±": "Staff ID not found",
    "Silme OnayÄ±": "Deletion Confirmation",
    "'{name}' personelini silmek istediÄŸinize emin misiniz?\n\nBu iÅŸlem geri alÄ±namaz!": "Are you sure you want to delete '{name}' staff member?\n\nThis action cannot be undone!",
    "'{name}' personeli silindi.": "'{name}' staff member deleted.",
    "Personel silinirken hata oluÅŸtu: {err}": "Error deleting staff member: {err}",
    "Yeni Kategori Ekle": "Add New Category",
    "ğŸ“ Yeni Kategori Ekle": "ğŸ“ Add New Category",
    "ğŸ“ Kategori AdÄ±": "ğŸ“ Category Name",
    "ğŸ’¬ AÃ§Ä±klama": "ğŸ’¬ Description",
    "ğŸ’¾ Kaydet": "ğŸ’¾ Save",
    "Kategori adÄ± boÅŸ olamaz.": "Category name cannot be empty.",
    "Kategori eklendi.": "Category added.",
    "Ekleme baÅŸarÄ±sÄ±z: {err}": "Addition failed: {err}",
    "Yeni Seans Ekle": "Add New Session",
    "Seans Åablonu": "Session Template",
    "EÄŸitmen": "Instructor",
    "SÃ¼re (dk)": "Duration (min)",
    "Kapasite": "Capacity",
    "Seans Tarihi": "Session Date",
    "YÃ¼kleniyor...": "Loading...",
    "Åablon Yok": "No Template",
    "EÄŸitmen Yok": "No Instructor",
    "LÃ¼tfen tÃ¼m alanlarÄ± doldurunuz.": "Please fill in all fields.",
    "GeÃ§ersiz Format": "Invalid Format",
    "Saat formatÄ±: HH:MM": "Time format: HH:MM",
    "GeÃ§ersiz DeÄŸer": "Invalid Value",
    "SÃ¼re ve Kapasite sayÄ±sal deÄŸer olmalÄ±dÄ±r.": "Duration and Capacity must be numeric values.",
    "SÃ¼re ve Kapasite 0'dan bÃ¼yÃ¼k olmalÄ±dÄ±r.": "Duration and Capacity must be greater than 0.",
    "Seans eklendi.": "Session added.",
    "Bilinmeyen hata": "Unknown error",
    "Ä°ÅŸlem baÅŸarÄ±sÄ±z: {detail}": "Operation failed: {detail}",
    "Ä°ÅŸlem baÅŸarÄ±sÄ±z: {err}": "Operation failed: {err}",
    "Yeni VÃ¼cut Ã–lÃ§Ã¼mÃ¼": "New Body Measurement",
    "Ã–lÃ§Ã¼m tipleri yÃ¼klenemedi: {err}": "Measurement types could not be loaded: {err}",
    "ğŸ“ Yeni VÃ¼cut Ã–lÃ§Ã¼mÃ¼": "ğŸ“ New Body Measurement",
    "ğŸ‹ï¸ Genel VÃ¼cut Ã–lÃ§Ã¼leri": "ğŸ‹ï¸ General Body Measurements",
    "ğŸ’ª Ãœst VÃ¼cut": "ğŸ’ª Upper Body",
    "ğŸ«€ GÃ¶vde": "ğŸ«€ Torso",
    "ğŸ¦µ Alt VÃ¼cut": "ğŸ¦µ Lower Body",
    "ğŸ“ Notlar": "ğŸ“ Notes",
    "0.0": "0.0",
    "Ã–lÃ§Ã¼m deÄŸerleri pozitif olmalÄ±dÄ±r.": "Measurement values must be positive.",
    "LÃ¼tfen sayÄ±sal deÄŸer giriniz.": "Please enter a numeric value.",
    "En az bir Ã¶lÃ§Ã¼m deÄŸeri giriniz.": "Enter at least one measurement value.",
    "Ã–lÃ§Ã¼mler kaydedildi.": "Measurements saved.",
    "KayÄ±t hatasÄ±: {err}": "Save error: {err}",
    "Yeni Paket OluÅŸtur": "Create New Package",
    "Paket DÃ¼zenle": "Edit Package",
    "Yeni Plan Ekle": "Add New Plan",
    "ğŸ“‹ Yeni Plan Ekle": "ğŸ“‹ Add New Plan",
    "ğŸ“ Plan AdÄ±": "ğŸ“ Plan Name",
    "Ã–rn: 3 AylÄ±k 24 Seans": "Ex: 3 Months 24 Sessions",
    "ğŸ“… AylÄ±k (28 gÃ¼n)": "ğŸ“… Monthly (28 days)",
    "ğŸ“† 3 AylÄ±k (84 gÃ¼n)": "ğŸ“† 3 Months (84 days)",
    "ğŸ“Š 6 AylÄ±k (168 gÃ¼n)": "ğŸ“Š 6 Months (168 days)",
    "ğŸ¯ YÄ±llÄ±k (365 gÃ¼n)": "ğŸ¯ Yearly (365 days)",
    "ğŸ“† HaftalÄ±k (7 gÃ¼n)": "ğŸ“† Weekly (7 days)",
    "ğŸ”’ Ã–zel Tarih (Manuel)": "ğŸ”’ Custom Date (Manual)",
    "ğŸ“† GeÃ§erlilik SÃ¼resi": "ğŸ“† Validity Period",
    "ğŸ¯ Seans SayÄ±sÄ±": "ğŸ¯ Session Count",
    "BoÅŸ bÄ±rakÄ±rsan sÄ±nÄ±rsÄ±z (0 veya boÅŸ)": "Leave empty for unlimited (0 or empty)",
    "â™»ï¸ Tekrarlayan Haftalar": "â™»ï¸ Repeating Weeks",
    "GirdiÄŸin seans haftada tekrar eder (Ã¶rnek: 4)": "The entered session repeats weekly (e.g.: 4)",
    "Plan adÄ± zorunludur.": "Plan name is required.",
    "Seans sayÄ±sÄ± negatif olamaz.": "Session count cannot be negative.",
    "Seans sayÄ±sÄ± geÃ§erli bir sayÄ± olmalÄ±dÄ±r.": "Session count must be a valid number.",
    "Tekrarlayan hafta en az 1 olabilir.": "Repeating week must be at least 1.",
    "Tekrarlayan hafta geÃ§erli bir sayÄ± olmalÄ±dÄ±r.": "Repeating week must be a valid number.",
    "Plan eklendi.": "Plan added.",
    "Yeni Personel Ekle": "Add New Staff Member",
    "ğŸ‘” Yeni Personel Ekle": "ğŸ‘” Add New Staff Member",
    "ğŸ’¼ Rol": "ğŸ’¼ Role",
    "LÃ¼tfen Ad, Soyad, Email, Åifre ve Rol alanlarÄ±nÄ± doldurunuz.": "Please fill in the First Name, Last Name, Email, Password, and Role fields.",
    "Personel oluÅŸturulamadÄ±: {err}": "Could not create staff member: {err}",
    "BorÃ§lu Ãœyeler": "Debtor Members",
    "Her Ã¼ye sadece bir kere listelenir; detay iÃ§in Ã¶deme iÅŸlemini baÅŸlatabilirsiniz.": "Each member is listed only once; you can initiate the payment process for details.",
    "Ãœye": "Member",
    "Ä°ÅŸlem": "Action",
    "BorÃ§lu Ã¼yeler alÄ±namadÄ±.": "Debtor members could not be retrieved.",
    "Åu anda borÃ§lu Ã¼ye bulunmuyor.": "No debtor members found at the moment.",
    "Bilinmeyen Ãœye": "Unknown Member",
    "Ã–deme": "Payment",
    "Personel DÃ¼zenle": "Edit Staff Member",
    "âœï¸ Personel DÃ¼zenle": "âœï¸ Edit Staff Member",
    "(boÅŸ bÄ±rakÄ±lÄ±rsa deÄŸiÅŸmez)": "(leave empty to keep unchanged)",
    "Aktif": "Active",
    "LÃ¼tfen Ad, Soyad, Email ve Rol alanlarÄ±nÄ± doldurunuz.": "Please fill in the First Name, Last Name, Email, and Role fields.",
    "Personel gÃ¼ncellenemedi: {err}": "Could not update staff member: {err}",
    "Seans ÅablonlarÄ± YÃ¶netimi": "Session Templates Management",
    "Åablon AdÄ±": "Template Name",
    "â• Ekle": "â• Add",
    "Mevcut Åablonlar": "Existing Templates",
    "âŒ Kapat": "âŒ Close",
    "HenÃ¼z ÅŸablon yok. YukarÄ±dan yeni ÅŸablon ekleyebilirsiniz.": "No templates yet. You can add new templates from above.",
    "LÃ¼tfen ÅŸablon adÄ± giriniz.": "Please enter a template name.",
    "'{name}' ÅŸablonu oluÅŸturuldu.": "'{name}' template created.",
    "Åablonu DÃ¼zenle": "Edit Template",
    "Yeni Ad": "New Name",
    "Åablon adÄ± boÅŸ olamaz.": "Template name cannot be empty.",
    "Åablon gÃ¼ncellendi.": "Template updated.",
    "'{name}' ÅŸablonunu silmek istediÄŸinize emin misiniz?": "Are you sure you want to delete '{name}' template?",
    "Åablon silindi.": "Template deleted.",
    "Silme baÅŸarÄ±sÄ±z: {detail}": "Deletion failed: {detail}",
    "Paket DetaylarÄ±": "Package Details",
    "Paket": "Package",
    "ğŸŸ¢ Aktif": "ğŸŸ¢ Active",
    "ğŸ”´ SÃ¼resi DolmuÅŸ": "ğŸ”´ Expired",
    "âš« Ä°ptal Edildi": "âš« Cancelled",
    "âšª Bilinmiyor": "âšª Unknown",
    "ğŸ“… Tarih Bilgileri": "ğŸ“… Date Information",
    "BaÅŸlangÄ±Ã§": "Start",
    "BitiÅŸ": "End",
    "ğŸ¯ Ders KullanÄ±mÄ±": "ğŸ¯ Class Usage",
    "â™¾ï¸ Zaman BazlÄ± EriÅŸim": "â™¾ï¸ Time-Based Access",
    "Paket sÃ¼resi boyunca sÄ±nÄ±rsÄ±z ders ({used} giriÅŸ yapÄ±ldÄ±)": "Unlimited classes during package duration ({used} entries made)",
    "KullanÄ±lan": "Used",
    "Kalan": "Remaining",
    "Toplam": "Total",
    "â™¾ï¸ SÄ±nÄ±rsÄ±z": "â™¾ï¸ Unlimited",
    "ğŸ’° Ã–deme Bilgileri": "ğŸ’° Payment Information",
    "Toplam Fiyat": "Total Price",
    "Ã–denen": "Paid",
    "Kalan BorÃ§": "Remaining Debt",
    "ğŸ“ Ã–deme GeÃ§miÅŸi ({count})": "ğŸ“ Payment History ({count})",
    "QR Kod OKUT": "Scan QR Code",
    "Abonelik ID'si bulunamadÄ±": "Subscription ID not found",
    "âœ… GiriÅŸ BaÅŸarÄ±lÄ±": "âœ… Check-In Successful",
    "KatÄ±lÄ±m kaydedildi.\n{member_name}\nKalan Hak: {remaining}": "Attendance recorded.\n{member_name}\nRemaining Rights: {remaining}",
    "Check-in hatasÄ±: {error}": "Check-in error: {error}",
    "QR token bulunamadÄ±": "QR token not found",
    "Hata: {error}": "Error: {error}",
    "âŒ Hata\n\n{message}": "âŒ Error\n\n{message}",
    "Ãœye Bilgilerini GÃ¼ncelle": "Update Member Information",
    "âœï¸ Bilgileri DÃ¼zenle": "âœï¸ Edit Information",
    "LÃ¼tfen Ad, Soyad ve Email alanlarÄ±nÄ± doldurunuz.": "Please fill in the First Name, Last Name, and Email fields.",
    "GÃ¼ncelleme hatasÄ±: {error}": "Update error: {error}",
    "Åifre GÃ¼ncelle": "Update Password",
    "Yeni Åifre:": "New Password:",
    "Åifre Tekrar:": "Repeat Password:",
    "â„¹ï¸ Åifre en az 6 karakter olmalÄ±dÄ±r": "â„¹ï¸ Password must be at least 6 characters long",
    "Åifre boÅŸ olamaz.": "Password cannot be empty.",
    "Åifreler eÅŸleÅŸmiyor. LÃ¼tfen kontrol ediniz.": "Passwords do not match. Please check.",
    "Åifre baÅŸarÄ±yla gÃ¼ncellendi.": "Password updated successfully.",
    "Åifre gÃ¼ncelleme hatasÄ±: {error}": "Password update error: {error}",
    "BorÃ§ Ã–deme": "Debt Payment",
    "âœ… Bu Ã¼yenin borcu bulunmamaktadÄ±r": "âœ… This member has no debt",
    "ğŸ“‹ BorÃ§lu Paketler (Eskiden Yeniye)": "ğŸ“‹ Debtor Packages (Oldest to Newest)",
    "ğŸ’µ Ã–deme TutarÄ±:": "ğŸ’µ Payment Amount:",
    "0.00": "0.00",
    "TL": "TL",
    "ğŸ’³ Ã–deme Åekli:": "ğŸ’³ Payment Method:",
    "Nakit": "Cash",
    "Kredi KartÄ±": "Credit Card",
    "Havale/EFT": "Transfer",
    "DiÄŸer": "Other",
    "HÄ±zlÄ± Tutar:": "Quick Amount:",
    "TÃ¼mÃ¼": "All",
    "âœ… Ã–demeyi Kaydet": "âœ… Save Payment",
    "Unknown": "Unknown",
    "Tarih: {date} | Toplam: {total:.2f} TL | Ã–denen: {paid:.2f} TL": "Date: {date} | Total: {total:.2f} TL | Paid: {paid:.2f} TL",
    "LÃ¼tfen Ã¶deme tutarÄ± giriniz": "Please enter payment amount",
    "Ã–deme tutarÄ± 0'dan bÃ¼yÃ¼k olmalÄ±dÄ±r": "Payment amount must be greater than 0",
    "Ã–deme tutarÄ± ({amount:.2f} TL) toplam borcu ({total:.2f} TL) aÅŸÄ±yor.\n\nYine de devam etmek istiyor musunuz?\n(Fazla tutar ilk pakete eklenecektir)": "Payment amount ({amount:.2f} TL) exceeds total debt ({total:.2f} TL).\n\nDo you still want to proceed?\n(Excess amount will be added to the first package)",
    "âœ… Toplam {amount:.2f} TL Ã¶deme baÅŸarÄ±yla kaydedildi!\n\n": "âœ… Total {amount:.2f} TL payment successfully recorded!\n\n",
    "ğŸ“Š DaÄŸÄ±lÄ±m:\n": "ğŸ“Š Distribution:\n",
    "â€¢ {service}: {amount:.2f} TL": "â€¢ {service}: {amount:.2f} TL",
    " (Kalan: {remaining:.2f} TL)": " (Remaining: {remaining:.2f} TL)",
    " (TamamlandÄ± âœ“)": " (Completed âœ“)",
    "\n\nâš ï¸ Fazla Ã¶deme: {remaining:.2f} TL (Ä°lk pakete eklendi)": "\n\nâš ï¸ Overpayment: {remaining:.2f} TL (Added to the first package)",
    "GeÃ§ersiz Ã¶deme tutarÄ±": "Invalid payment amount",
    "Ã–deme iÅŸlemi baÅŸarÄ±sÄ±z: {error}": "Payment failed: {error}",
    "Ã–deme DetayÄ±": "Payment Detail",
    "YÃ¶ntem": "Method",
    "Durum": "Status",
    "TamamlandÄ±": "Completed"
}

def read_po_file(file_path: Path) -> str:
    """Read a .po file and return its content as a string."""
    return file_path.read_text(encoding='utf-8')

def fill_turkish_translations(po_content: str) -> str:
    """Fill Turkish translations by copying msgid to msgstr."""
    # Pattern: msgid "text"\nmsgstr ""
    pattern = r'(msgid "([^"]+)")\nmsgstr ""'
    
    def replacer(match):
        msgid_line = match.group(1)
        text = match.group(2)
        # For Turkish, copy the msgid to msgstr
        return f'{msgid_line}\nmsgstr "{text}"'
    
    return re.sub(pattern, replacer, po_content)

def fill_english_translations(po_content: str) -> str:
    """Fill English translations using translation dictionary."""
    pattern = r'(msgid "([^"]+)")\nmsgstr ""'
    
    def replacer(match):
        msgid_line = match.group(1)
        text = match.group(2)
        
        # Look for translation in dictionary
        translation = TRANSLATION_DICT.get(text)
        
        if translation:
            return f'{msgid_line}\nmsgstr "{translation}"'
        else:
            # Keep empty if not in dictionary
            return match.group(0)
    
    return re.sub(pattern, replacer, po_content)

def main():
    """Main entry point."""
    print("ğŸŒ Filling translation files...\n")
    
    # Fill Turkish translations
    tr_po = LOCALE_DIR / "tr" / "LC_MESSAGES" / "messages.po"
    if tr_po.exists():
        content = read_po_file(tr_po)
        content = fill_turkish_translations(content)
        tr_po.write_text(content, encoding='utf-8')
        print("âœ… Turkish translations filled")
    
    # Fill English translations
    en_po = LOCALE_DIR / "en" / "LC_MESSAGES" / "messages.po"
    if en_po.exists():
        content = read_po_file(en_po)
        content = fill_english_translations(content)
        en_po.write_text(content, encoding='utf-8')
        print("âœ… English translations filled (with dictionary)")
    
    print(f"\nNext step: Run 'python i18n_manager.py compile' to generate .mo files")

if __name__ == "__main__":
    main()
