<!DOCTYPE html>
<html class="dark" lang="tr">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Üye Ol - MyRhythmNexus</title>
    <link href="https://fonts.googleapis.com/css2?family=Spline+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;500;700&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#30e87a",
                        "background-light": "#f6f8f7",
                        "background-dark": "#112117",
                        "card-dark": "#1c2e24",
                        "sage": "#81B29A",
                        "terracotta": "#E07A5F",
                        "text-secondary": "#9db8a8",
                    },
                    fontFamily: {
                        "display": ["Spline Sans", "sans-serif"],
                        "body": ["Noto Sans", "sans-serif"],
                    },
                    borderRadius: {"DEFAULT": "1rem", "lg": "2rem", "xl": "3rem", "full": "9999px"},
                },
            },
        }
    </script>
    <style>
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #112117; }
        ::-webkit-scrollbar-thumb { background: #29382f; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #3c5345; }
    </style>
</head>
<body class="font-display bg-background-light dark:bg-background-dark text-gray-900 dark:text-white min-h-screen flex flex-col overflow-hidden">
<div class="flex flex-1 w-full h-screen">
    <!-- Left Side: Visual (Hidden on Mobile) -->
    <div class="hidden lg:flex lg:w-1/2 relative overflow-hidden bg-card-dark items-center justify-center p-6">
        <div class="absolute inset-0 z-0">
            <div class="w-full h-full bg-cover bg-center opacity-60" style="background-image: url('https://lh3.googleusercontent.com/aida-public/AB6AXuCCrpiJ4S1rpUK54cILDMgVCYgiUS-l0oLrM2zmxi9C9IptroK9lcmM_mNIpSq5nK8pq7bb8Us7816_9ZXCUmFtcwV1A-Q654tYTFp_N8XRgisq0lbcwx6vQdIvA3_FH1ILu7Y9qyJnUKFo3TeHWvEcjudGdI-zHVdyeVzScg9162ihxRT0XIDAQZAO-OZdLHy1p-e8App_0K-lEHnvl3O0Gw0urF5SigONRdsiNARwZBn9BaoH1O_RaYoKNW5KhK1qlSem4VRgc21c');"></div>
            <div class="absolute inset-0 bg-gradient-to-t from-background-dark via-background-dark/50 to-transparent"></div>
        </div>
        <div class="relative z-10 max-w-lg p-10 flex flex-col gap-6">
            <div class="size-16 bg-primary/20 rounded-full flex items-center justify-center backdrop-blur-sm border border-primary/30 text-primary mb-4">
                <span class="material-symbols-outlined text-4xl">spa</span>
            </div>
            <h1 class="text-5xl font-bold leading-tight tracking-tight text-white">
                Ritmi Bul,<br/>
                <span class="text-primary">Harekete Geç.</span>
            </h1>
            <p class="text-xl text-text-secondary font-light leading-relaxed">
                Binlerce üye ile birlikte dans et, hareketi hisset ve kendi potansiyelini keşfet.
            </p>
            <div class="flex items-center gap-4 mt-4">
                <div class="flex -space-x-3">
                    <img alt="Member" class="w-10 h-10 rounded-full border-2 border-background-dark" src="https://lh3.googleusercontent.com/aida-public/AB6AXuB3zSjp3SC2x1gaNwIzRHtMDe1_XTMSvh0RkKeZQHRFTo6bOTT85JCUZeP-PXfM6_fEdI-UwhSjHUpp8ARFMiAWvxl5FPrAgdOX76O5jcq37xT6wt_3116dSGpLgJPR5KQZKGTwB8Avf3bm68aM7cg7KXhOppEWED8aJDQQgv-4_sd__HzsEgeAal5HIFepV_YH-CnwS_6Wxp9qTehTF6xcRpatM6aQESDyoEnRVri5T8imzaBudjrMe0YaWGh8OZ5PAmT2F1nhUxJf"/>
                </div>
                <span class="text-sm font-medium text-white/80">Hemen Başla</span>
            </div>
        </div>
    </div>

    <!-- Right Side: Form -->
    <div class="w-full lg:w-1/2 flex flex-col relative bg-background-light dark:bg-background-dark overflow-y-auto">
        <div class="lg:hidden p-6 flex items-center gap-2">
            <span class="material-symbols-outlined text-primary text-3xl">spa</span>
            <span class="font-bold text-xl tracking-tight">MyRhythmNexus</span>
        </div>

        <div class="flex-1 flex flex-col items-center justify-center p-6 sm:p-12 lg:p-24">
            <div class="w-full max-w-sm">
                <div class="mb-10">
                    <h2 class="text-3xl font-bold mb-2">Üye Ol</h2>
                    <p class="text-slate-600 dark:text-text-secondary">Hesap oluştur ve hemen başla</p>
                
                    {% if error %}
                    <div class="mb-4 p-3 rounded bg-red-50 text-red-700 border border-red-100">{{ error }}</div>
                    {% endif %}

                    {% if success %}
                    <div class="mb-4 p-3 rounded bg-green-50 text-green-700 border border-green-100">{{ success }}</div>
                    {% endif %}

                </div>

                <form method="POST" action="/web/auth/register" class="space-y-4">
                    <!-- Name Row -->
                    <div class="grid grid-cols-2 gap-3">
                        <div>
                            <label for="first_name" class="block text-sm font-medium mb-2">Ad</label>
                            <input type="text" id="first_name" name="first_name" required class="w-full px-4 py-3 bg-white dark:bg-card-dark border border-slate-200 dark:border-white/10 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary dark:text-white" placeholder="Ahmet" value="{{ form.first_name if form and form.first_name }}"/>
                        </div>
                        <div>
                            <label for="last_name" class="block text-sm font-medium mb-2">Soyad</label>
                            <input type="text" id="last_name" name="last_name" required class="w-full px-4 py-3 bg-white dark:bg-card-dark border border-slate-200 dark:border-white/10 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary dark:text-white" placeholder="Yılmaz" value="{{ form.last_name if form and form.last_name }}"/>
                        </div>
                    </div>

                    <!-- Email -->
                    <div>
                        <label for="email" class="block text-sm font-medium mb-2">E-posta</label>
                        <input type="email" id="email" name="email" required class="w-full px-4 py-3 bg-white dark:bg-card-dark border border-slate-200 dark:border-white/10 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary dark:text-white" placeholder="sen@ornek.com" value="{{ form.email if form and form.email }}"/>
                        {% if errors and errors.email %}
                        <p class="text-red-500 text-sm mt-1">{{ errors.email }}</p>
                        {% endif %}
                    </div>

                    <!-- Phone -->
                    <div>
                        <label for="phone" class="block text-sm font-medium mb-2">Telefon</label>
                        <input type="tel" id="phone" name="phone_number" required class="w-full px-4 py-3 bg-white dark:bg-card-dark border border-slate-200 dark:border-white/10 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary dark:text-white" placeholder="555 123 4567" value="{{ form.phone_number if form and form.phone_number }}"/>
                        {% if errors and errors.phone_number %}
                        <p class="text-red-500 text-sm mt-1">{{ errors.phone_number }}</p>
                        {% endif %}
                    </div>

                    <!-- Password -->
                    <div>
                        <label for="password" class="block text-sm font-medium mb-2">Şifre</label>
                        <input type="password" id="password" name="password" required minlength="8" class="w-full px-4 py-3 bg-white dark:bg-card-dark border border-slate-200 dark:border-white/10 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary dark:text-white" placeholder="En az 8 karakter"/>
                        {% if errors and errors.password %}
                        <p class="text-red-500 text-sm mt-1">{{ errors.password }}</p>
                        {% endif %}
                    </div>

                    <!-- Confirm Password -->
                    <div>
                        <label for="password_confirm" class="block text-sm font-medium mb-2">Şifre Tekrar</label>
                        <input type="password" id="password_confirm" name="password_confirm" required minlength="8" class="w-full px-4 py-3 bg-white dark:bg-card-dark border border-slate-200 dark:border-white/10 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary dark:text-white" placeholder="Şifreyi tekrar girin"/>
                        {% if errors and errors.password_confirm %}
                        <p class="text-red-500 text-sm mt-1">{{ errors.password_confirm }}</p>
                        {% endif %}
                        <p id="password-error" class="text-red-500 text-sm mt-1 hidden">Şifreler eşleşmiyor</p>
                    </div>

                    <!-- Terms -->
                    <div class="flex items-start gap-2">
                        <input type="checkbox" id="terms" name="terms" required class="w-4 h-4 mt-1 rounded border-slate-300 text-primary focus:ring-primary" {% if form and form.terms %}checked{% endif %}/>
                        <label for="terms" class="text-sm text-slate-600 dark:text-text-secondary">
                            <a href="#" class="text-primary hover:underline">Kullanım Şartlarını</a> ve 
                            <a href="#" class="text-primary hover:underline">Gizlilik Politikasını</a> kabul ediyorum
                        </label>
                    </div>

                    <!-- Submit -->
                    <button type="submit" class="w-full mt-8 bg-primary hover:bg-[#2bd46d] text-background-dark font-bold py-3 px-4 rounded-full transition-transform hover:scale-105 shadow-lg shadow-primary/20">
                        Üye Ol
                    </button>
                </form>

                <!-- Divider -->
                <div class="my-6 relative">
                    <div class="absolute inset-0 flex items-center">
                        <div class="w-full border-t border-slate-200 dark:border-white/10"></div>
                    </div>
                    <div class="relative flex justify-center text-sm">
                        <span class="px-2 bg-background-light dark:bg-background-dark text-slate-600 dark:text-text-secondary">veya</span>
                    </div>
                </div>

                <!-- Login Link -->
                <div class="text-center">
                    <p class="text-slate-600 dark:text-text-secondary">
                        Zaten üye misin?
                        <a href="/web/auth/login" class="font-bold text-primary hover:underline">Giriş Yap</a>
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const password = document.getElementById('password');
    const passwordConfirm = document.getElementById('password_confirm');
    const passwordError = document.getElementById('password-error');
    const submitBtn = document.querySelector('button[type="submit"]');

    function checkPasswords() {
        if (passwordConfirm.value && password.value !== passwordConfirm.value) {
            passwordError.classList.remove('hidden');
            passwordConfirm.classList.add('border-red-500', 'focus:ring-red-500');
            submitBtn.disabled = true;
            submitBtn.classList.add('opacity-50', 'cursor-not-allowed');
        } else {
            passwordError.classList.add('hidden');
            passwordConfirm.classList.remove('border-red-500', 'focus:ring-red-500');
            submitBtn.disabled = false;
            submitBtn.classList.remove('opacity-50', 'cursor-not-allowed');
        }
    }

    password.addEventListener('input', checkPasswords);
    passwordConfirm.addEventListener('input', checkPasswords);
});
</script>
</body>
</html>